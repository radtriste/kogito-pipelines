@Library('jenkins-pipeline-shared-libraries')_

pipeline {
    agent any

    environment {
      HELLO_USER = 'tradisso'
    }

    stages {
        stage('test') {
            steps {
                script {
                    checkout(githubscm.resolveRepository('kogito-pipelines', 'radtriste', 'test-load-script', false))

                    echo 'checkout done'

                    helloScript = load './script.groovy'

                    echo 'got here'

                    helloScript.sayHello()

                    echo 'everything is fine'
                }
            }
        }
    }
    post {
        always {
            cleanWs()
        }
    }
}
